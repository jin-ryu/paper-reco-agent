# Research Recommendation Agent

**2025 DATAΒ·AI λ¶„μ„ κ²½μ§„λ€ν - λ…Όλ¬ΈΒ·λ°μ΄ν„° μ¶”μ² μ—μ΄μ „νΈ**

Qwen3-14B κΈ°λ° λ‹¤κµ­μ–΄ ν•μ΄λΈλ¦¬λ“ μ—°κµ¬ λ°μ΄ν„° λ° λ…Όλ¬Έ μ¶”μ² μ‹μ¤ν…

---

## λ©μ°¨

1. [ν”„λ΅μ νΈ κ°μ”](#ν”„λ΅μ νΈ-κ°μ”)
2. [μ‹¤ν–‰ ν™κ²½ (HW/SW)](#μ‹¤ν–‰-ν™κ²½-hwsw)
3. [ν”„λ΅μ νΈ κµ¬μ΅°](#ν”„λ΅μ νΈ-κµ¬μ΅°)
4. [λ°μ΄ν„° λ° λ¨λΈ](#λ°μ΄ν„°-λ°-λ¨λΈ)
5. [μ¶”λ΅  μν–‰ λ°©λ²•](#μ¶”λ΅ -μν–‰-λ°©λ²•)
6. [μ‹μ¤ν… μ•„ν‚¤ν…μ²](#μ‹μ¤ν…-μ•„ν‚¤ν…μ²)
7. [μ„±λ¥ ν‰κ°€](#μ„±λ¥-ν‰κ°€)
8. [μ €μ‘κ¶ λ° λΌμ΄μ„ μ¤](#μ €μ‘κ¶-λ°-λΌμ΄μ„ μ¤)

---

## ν”„λ΅μ νΈ κ°μ”

μ΄ ν”„λ΅μ νΈλ” **KISTI 2025 DATAΒ·AI λ¶„μ„ κ²½μ§„λ€ν**λ¥Ό μ„ν•΄ κ°λ°λ AI μ¶”μ² μ—μ΄μ „νΈμ…λ‹λ‹¤. DataONμ— λ“±λ΅λ μ—°κµ¬ λ°μ΄ν„°μ…‹μ„ μ…λ ¥λ°›μ•„ μλ―Έμ μΌλ΅ κ΄€λ ¨μ„±μ΄ λ†’μ€ μ—°κµ¬λ…Όλ¬Έκ³Ό λ°μ΄ν„°μ…‹μ„ μ¶”μ²ν•©λ‹λ‹¤.

### λ€ν μ”κµ¬μ‚¬ν•­ μ¶©μ΅±

- β… **μ†κ·λ¨ μ–Έμ–΄λ¨λΈ**: Qwen3-14B (14.8B νλΌλ―Έν„°)
- β… **κ³ μ‚¬μ–‘ H/W μ§€μ›**: FP16 μ •λ°€λ„λ΅ ~28GB VRAMμ—μ„ λ™μ‘
- β… **μ§§μ€ μ‘λ‹µμ‹κ°„**: ν•μ΄λΈλ¦¬λ“ RAGλ΅ 3-4μ΄ μ΄λ‚΄ μ‘λ‹µ
- β… **λ‚®μ€ μ‹¤ν¨μ¨**: μ„λ² λ”© μ‚¬μ „ ν•„ν„°λ§ + μ¬μ‹λ„ λ΅μ§μΌλ΅ μ•μ •μ  μ¶”λ΅ 
- β… **λ„¤νΈμ›ν¬ μ μ•½**: DataON/ScienceON API, LLM Endpointλ§ μ‚¬μ©
- β… **3-5κ±΄ μ¶”μ²**: LLMμ΄ μμ„ κ²°μ •, κ°•μ¶”/μ¶”μ²/μ°Έκ³  λ λ²¨ κµ¬λ¶„

### μ£Όμ” νΉμ§•

- π¤– **Qwen3-14B**: λ‹¤κµ­μ–΄ κ³ μ„±λ¥ μ–Έμ–΄λ¨λΈ (Alibaba Cloud)
  - 100+ μ–Έμ–΄ μ§€μ› (μμ–΄, μ¤‘κµ­μ–΄, ν•κµ­μ–΄, μΌλ³Έμ–΄ λ“±)
  - 32K ν† ν° μ»¨ν…μ¤νΈ (ν™•μ¥ μ‹ 128K)
  - λ›°μ–΄λ‚ reasoning λ° instruction following μ„±λ¥

- π” **LLM κΈ°λ° κ²€μƒ‰ μΏΌλ¦¬ μƒμ„±**: μλ―Έμ  μ΄ν•΄λ¥Ό ν†µν• μµμ  κ²€μƒ‰μ–΄ μ¶”μ¶
- π **ν•μ΄λΈλ¦¬λ“ RAG**: LLM μΏΌλ¦¬ μƒμ„± + E5 μ„λ² λ”© + BM25 + LLM μ¬μμ„ν™”
- β΅ **μµμ ν™”**: FP16 μ •λ°€λ„, query/passage κµ¬λ¶„ μΈμ½”λ”©, μ¬μ‹λ„ λ΅μ§

---

## μ‹¤ν–‰ ν™κ²½ (HW/SW)

### ν•λ“μ›¨μ–΄(HW) μ”κµ¬μ‚¬ν•­

#### μµμ† μ‚¬μ–‘
- **GPU**: NVIDIA RTX 3090 24GB μ΄μƒ
- **RAM**: 32GB μ΄μƒ
- **μ €μ¥κ³µκ°„**: 50GB μ΄μƒ (λ¨λΈ μΊμ‹ ν¬ν•¨)
- **OS**: Linux (Ubuntu 20.04+) λλ” Windows 10/11

#### κ¶μ¥ μ‚¬μ–‘
- **GPU**: NVIDIA RTX 4090 24GB μ΄μƒ λλ” H100 80GB
- **RAM**: 64GB μ΄μƒ
- **μ €μ¥κ³µκ°„**: 100GB μ΄μƒ
- **OS**: Linux (Ubuntu 22.04)

#### κ°λ° λ° ν…μ¤νΈ ν™κ²½
- **GPU**: NVIDIA H100 80GB HBM3
- **NVIDIA Driver**: 535.104.05
- **OS**: Linux Ubuntu 22.04
- **RAM**: 64GB+

### μ†ν”„νΈμ›¨μ–΄(SW) μ”κµ¬μ‚¬ν•­

#### ν•„μ μ†ν”„νΈμ›¨μ–΄

**1. Python**
- λ²„μ „: Python 3.10.18
- μ„¤μΉ:
  ```bash
  conda create -n paper-agent python=3.10
  conda activate paper-agent
  ```

**2. CUDA Toolkit**
- **CUDA λ²„μ „**: 12.8
- **cuDNN λ²„μ „**: 9.1.0.02 (91002)
- **PyTorch CUDA**: 12.8 (cu128)
- μ„¤μΉ κ°€μ΄λ“: https://developer.nvidia.com/cuda-12-8-0-download-archive

**3. NVIDIA Driver**
- **λ²„μ „**: 535.104.05 μ΄μƒ
- μ„¤μΉ κ°€μ΄λ“: https://www.nvidia.com/download/index.aspx

**CUDA ν™•μΈ**:
```bash
nvidia-smi
nvcc --version
python -c "import torch; print(f'CUDA: {torch.cuda.is_available()}, Version: {torch.version.cuda}')"
```

#### μ£Όμ” λΌμ΄λΈλ¬λ¦¬ λ²„μ „

```
PyTorch: 2.8.0+cu128
Transformers: 4.56.2
Sentence-Transformers: 5.1.1
FastAPI: 0.104.1
NumPy: 1.24.3
Pandas: 2.1.4
Scikit-learn: 1.3.2
```

**μ „μ²΄ μμ΅΄μ„±**: `requirements.txt` μ°Έμ΅° (pip freeze μ¶λ ¥)

---

## ν”„λ΅μ νΈ κµ¬μ΅°

```
paper-reco-agent/
β”β”€β”€ README.md                  # μ΄ νμΌ (ν”„λ΅μ νΈ μ „μ²΄ μ„¤λ…)
β”β”€β”€ .env                       # ν™κ²½ λ³€μ (API ν‚¤)
β”‚
β”β”€β”€ data/                      # λ°μ΄ν„° ν΄λ”
β”‚   β””β”€β”€ test/                  # ν…μ¤νΈ λ°μ΄ν„°μ…‹
β”‚       β””β”€β”€ testset_gemini_ver1.json  # ν‰κ°€μ© ν…μ¤νΈ λ°μ΄ν„°
β”‚
β”β”€β”€ model/                     # ν•™μµλ λ¨λΈ νμΌ (μλ™ λ‹¤μ΄λ΅λ“)
β”‚
β”β”€β”€ src/                       # μ†μ¤μ½”λ“ ν΄λ”
β”‚   β”β”€β”€ agents/                # μ¶”μ² μ—μ΄μ „νΈ
β”‚   β”‚   β””β”€β”€ recommendation_agent.py  # λ©”μΈ μ¶”μ² λ΅μ§
β”‚   β”β”€β”€ clients/               # API ν΄λΌμ΄μ–ΈνΈ
β”‚   β”‚   β”β”€β”€ dataon_client.py   # DataON API
β”‚   β”‚   β””β”€β”€ scienceon_client.py  # ScienceON API
β”‚   β”β”€β”€ config/                # μ„¤μ • νμΌ
β”‚   β”‚   β””β”€β”€ settings.py        # ν™κ²½ μ„¤μ •
β”‚   β”β”€β”€ models/                # μ–Έμ–΄λ¨λΈ λνΌ
β”‚   β”‚   β”β”€β”€ qwen_model.py      # Qwen3-14B λ¨λΈ
β”‚   β”‚   β””β”€β”€ mock_model.py      # κ°λ°μ© Mock λ¨λΈ
β”‚   β”β”€β”€ router/                # FastAPI λΌμ°ν„°
β”‚   β”‚   β””β”€β”€ main.py            # FastAPI μ„λ²„
β”‚   β”β”€β”€ tools/                 # μ ν‹Έλ¦¬ν‹° λ„κµ¬
β”‚   β”‚   β”β”€β”€ research_tools.py  # κ²€μƒ‰, μ„λ² λ”©, μ μ‚¬λ„ κ³„μ‚°
β”‚   β”‚   β””β”€β”€ utils.py           # ν…μ¤νΈ μ •μ  λ“± μ ν‹Έλ¦¬ν‹°
β”‚   β”β”€β”€ evaluation/            # ν‰κ°€ λ¨λ“
β”‚   β”‚   β”β”€β”€ __init__.py        # ν‰κ°€ ν•¨μ export
β”‚   β”‚   β””β”€β”€ metrics.py         # nDCG, MRR, Recall@k λ“±
β”‚
β”β”€β”€ notebooks/                 # Jupyter λ…ΈνΈλ¶
β”‚   β”β”€β”€ inference.ipynb        # β­ μ¶”λ΅  μ‹¤ν–‰ λ…ΈνΈλ¶
β”‚   β””β”€β”€ evaluation.ipynb       # β­ ν‰κ°€ μ‹¤ν–‰ λ…ΈνΈλ¶
β”‚
β”β”€β”€ scripts/                   # μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
β”‚   β”β”€β”€ setup_environment.sh   # ν™κ²½ μ„¤μ • μ¤ν¬λ¦½νΈ
β”‚   β”β”€β”€ run_inference.sh       # μ¶”λ΅  μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
β”‚   β”β”€β”€ test_evaluation.py     # ν‰κ°€ λ¨λ“ ν…μ¤νΈ
β”‚   β””β”€β”€ run_server.sh          # FastAPI μ„λ²„ μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
β”‚
β”β”€β”€ demo/                      # λ°λ¨ μμƒ
β”β”€β”€ figures/                   # κ²°κ³Ό μ €μ¥ ν΄λ”
β”‚   β”β”€β”€ inference_results/     # μ¶”λ΅  κ²°κ³Ό (νƒ€μ„μ¤νƒ¬ν”„λ³„)
β”‚   β””β”€β”€ evaluation_results/    # ν‰κ°€ κ²°κ³Ό (νƒ€μ„μ¤νƒ¬ν”„λ³„)

β””β”€β”€ requirements.txt           # μμ΅΄μ„± λ©λ΅ (μƒμ„Έ λ²„μ „)
```

### μ£Όμ” νμΌ μ„¤λ…

- **notebooks/inference.ipynb**: μ¶”λ΅  μ‹¤ν–‰μ© Jupyter λ…ΈνΈλ¶
- **notebooks/evaluation.ipynb**: ν‰κ°€ μ‹¤ν–‰μ© Jupyter λ…ΈνΈλ¶
- **src/router/main.py**: FastAPI μ„λ²„ μ—”λ“ν¬μΈνΈ
- **src/agents/recommendation_agent.py**: λ©”μΈ μ¶”μ² μ—μ΄μ „νΈ λ΅μ§
- **src/models/qwen_model.py**: Qwen3-14B μ–Έμ–΄λ¨λΈ λνΌ
- **src/tools/research_tools.py**: κ²€μƒ‰, μ„λ² λ”©, μ μ‚¬λ„ κ³„μ‚° ν•¨μ
- **src/tools/utils.py**: ν…μ¤νΈ μ •μ  λ“± μ ν‹Έλ¦¬ν‹° ν•¨μ
- **src/evaluation/metrics.py**: ν‰κ°€ λ©”νΈλ¦­ (nDCG, MRR, Recall@k λ“±)
- **scripts/test_evaluation.py**: ν‰κ°€ λ¨λ“ λ‹¨μ„ ν…μ¤νΈ
- **requirements.txt**: μ „μ²΄ μμ΅΄μ„± λ©λ΅ (pip freeze)

---

## λ°μ΄ν„° λ° λ¨λΈ

### μ‚¬μ© λ¨λΈ

#### 1. μ–Έμ–΄λ¨λΈ: Qwen3-14B
- **μ¶μ²**: [Qwen/Qwen3-14B](https://huggingface.co/Qwen/Qwen3-14B) (Alibaba Cloud)
- **νλΌλ―Έν„°**: 14.8B (13.2B non-embedding)
- **μ»¨ν…μ¤νΈ**: 32K ν† ν° (ν™•μ¥ μ‹ 128K)
- **μ–Έμ–΄ μ§€μ›**: 100+ μ–Έμ–΄
- **λΌμ΄μ„ μ¤**: Apache 2.0 (μƒμ—…μ  μ‚¬μ© κ°€λ¥)
- **μ •λ°€λ„**: FP16
- **μ©λ‰**: ~28GB (FP16)
- **λ‹¤μ΄λ΅λ“**: μλ™ λ‹¤μ΄λ΅λ“λ¨ (Hugging Face Hub)

#### 2. μ„λ² λ”© λ¨λΈ: Multilingual E5
- **μ¶μ²**: [intfloat/multilingual-e5-large](https://huggingface.co/intfloat/multilingual-e5-large) (Microsoft)
- **μ°¨μ›**: 1024
- **νΉμ§•**: λ‹¤κµ­μ–΄ κ²€μƒ‰ μµμ ν™”, Query/Passage κµ¬λ¶„ μΈμ½”λ”©
- **λΌμ΄μ„ μ¤**: MIT (μƒμ—…μ  μ‚¬μ© κ°€λ¥)
- **μ©λ‰**: ~2.2GB
- **λ‹¤μ΄λ΅λ“**: μλ™ λ‹¤μ΄λ΅λ“λ¨

### λ°μ΄ν„°

- **μ…λ ¥ λ°μ΄ν„°**: DataON λ°μ΄ν„°μ…‹ ID (μ: `KISTI_DATA_12345`)
- **API λ°μ΄ν„°**:
  - DataON API: λ°μ΄ν„°μ…‹ λ©”νƒ€λ°μ΄ν„° λ° κ²€μƒ‰
  - ScienceON API: λ…Όλ¬Έ κ²€μƒ‰ λ° λ©”νƒ€λ°μ΄ν„°
- **μ¶λ ¥ λ°μ΄ν„°**: JSON ν•μ‹ μ¶”μ² κ²°κ³Ό (`figures/inference_results/`)

**λ°μ΄ν„° μ €μ‘κ¶**: κ²½μ§„λ€ν μ κ³µ APIλ§ μ‚¬μ©, μ €μ‘κ¶ λ¬Έμ  μ—†μ

---

## μ¶”λ΅  μν–‰ λ°©λ²•

### λ°©λ²• 1: Jupyter Notebook (β­ κ¶μ¥)

**λ€ν μ‹¬μ‚¬μμ© μ¶”λ΅  μ‹¤ν–‰ λ°©λ²•**:

```bash
# 1. ν™κ²½ ν™μ„±ν™”
conda activate paper-agent

# 2. Jupyter μ‹¤ν–‰
jupyter notebook notebooks/inference.ipynb

# 3. λ…ΈνΈλ¶ μ…€ μμ°¨μ μΌλ΅ μ‹¤ν–‰
#    - λ°μ΄ν„°μ…‹ IDλ§ λ³€κ²½ν•λ©΄ λ¨ (test_dataset_id λ³€μ)
```

**λ…ΈνΈλ¶ μ‹¤ν–‰ νλ¦„**:
1. ν™κ²½ λ³€μ λ΅λ“ λ° GPU ν™•μΈ
2. μ¶”μ² μ—μ΄μ „νΈ μ΄κΈ°ν™” (λ¨λΈ λ΅λ“)
3. λ°μ΄ν„°μ…‹ ID μ„¤μ •
4. μ¶”λ΅  μ‹¤ν–‰ (`await agent.recommend(dataset_id)`)
5. κ²°κ³Ό ν™•μΈ λ° JSON νμΌλ΅ μ €μ¥
6. **ν‰κ°€**: ν…μ¤νΈ λ°μ΄ν„°μ…‹μΌλ΅ μ„±λ¥ ν‰κ°€ (nDCG, MRR, Recall@k)

**μ£Όμ„**: λ…ΈνΈλ¶ λ‚΄ κ° μ…€μ— μƒμ„Έν• μ£Όμ„ ν¬ν•¨

### ν‰κ°€ μ‹¤ν–‰

**evaluation.ipynb λ…ΈνΈλ¶**μ„ μ‚¬μ©ν•μ—¬ ν‰κ°€λ¥Ό μ‹¤ν–‰ν•  μ μμµλ‹λ‹¤:

```bash
# Jupyter μ‹¤ν–‰
jupyter notebook notebooks/evaluation.ipynb

# λ…ΈνΈλ¶μ—μ„ λ¨λ“  μ…€ μμ°¨ μ‹¤ν–‰
```

**ν‰κ°€ ν”„λ΅μ„Έμ¤**:
1. ν…μ¤νΈ λ°μ΄ν„°μ…‹ λ΅λ“ (data/test/testset_gemini_ver1.json)
2. μ¶”μ² μ—μ΄μ „νΈ μ΄κΈ°ν™”
3. κ° ν…μ¤νΈ μΌ€μ΄μ¤μ— λ€ν•΄ μ¶”μ² μ‹¤ν–‰
4. ν‰κ°€ λ©”νΈλ¦­ κ³„μ‚° (nDCG@k, MRR@k, Recall@k, Precision@k)
5. κ²°κ³Όλ¥Ό νƒ€μ„μ¤νƒ¬ν”„ ν΄λ”μ— μ €μ¥ (figures/evaluation_results/<timestamp>/)
6. λ…Όλ¬Έ/λ°μ΄ν„°μ…‹ λ¶„λ¦¬ ν‰κ°€
7. μΉ΄ν…κ³ λ¦¬λ³„ λ¶„μ„
8. CSV λ° μ”μ•½ λ¦¬ν¬νΈ μƒμ„±

**ν‰κ°€ μ§€ν‘**:
- **nDCG@k**: Normalized Discounted Cumulative Gain (μμ„ ν’μ§)
- **MRR@k**: Mean Reciprocal Rank (μ²« κ΄€λ ¨ μ•„μ΄ν… μμ„)
- **Recall@k**: μ¬ν„μ¨ (κ΄€λ ¨ μ•„μ΄ν… μ°Ύμ€ λΉ„μ¨)
- **Precision@k**: μ •λ°€λ„ (μ¶”μ² μ¤‘ κ΄€λ ¨ μ•„μ΄ν… λΉ„μ¨)

**ν‰κ°€ κ²°κ³Ό νμΌ**:
- `figures/evaluation_results/<timestamp>/individual_results.json`: κ°λ³„ ν…μ¤νΈ μΌ€μ΄μ¤ κ²°κ³Ό
- `figures/evaluation_results/<timestamp>/metrics_summary.json`: kλ³„ ν‰κ·  λ©”νΈλ¦­
- `figures/evaluation_results/<timestamp>/category_metrics.json`: μΉ΄ν…κ³ λ¦¬λ³„ λ©”νΈλ¦­
- `figures/evaluation_results/<timestamp>/results.csv`: CSV ν•μ‹ κ²°κ³Ό
- `figures/evaluation_results/<timestamp>/summary_report.txt`: μ”μ•½ λ¦¬ν¬νΈ
- `figures/evaluation_results/<timestamp>/config.json`: ν‰κ°€ μ„¤μ •

### λ°©λ²• 2: μ‹¤ν–‰ μ¤ν¬λ¦½νΈ

```bash
# ν™κ²½ μ„¤μ • (μµμ΄ 1ν)
bash scripts/setup_environment.sh

# μ¶”λ΅  μ‹¤ν–‰
bash scripts/run_inference.sh <dataset_id>

# μμ‹
bash scripts/run_inference.sh KISTI_DATA_12345
```

### λ°©λ²• 3: FastAPI μ„λ²„

```bash
# μ„λ²„ μ‹μ‘
bash scripts/run_server.sh

# API νΈμ¶
curl -X POST "http://localhost:8000/recommend" \
     -H "Content-Type: application/json" \
     -d '{"dataset_id": "SAMPLE_ID", "max_recommendations": 5}'

# λλ” Swagger UIμ—μ„ ν…μ¤νΈ
# http://localhost:8000/docs
```

### ν™κ²½ μ„¤μ •

**1. ν”„λ΅μ νΈ ν΄λ΅ **
```bash
git clone <repository-url>
cd paper-reco-agent
```

**2. Conda ν™κ²½ μƒμ„±**
```bash
conda create -n paper-agent python=3.10
conda activate paper-agent
```

**3. μμ΅΄μ„± μ„¤μΉ**
```bash
pip install --upgrade pip
pip install -r requirements.txt
```

**4. ν™κ²½ λ³€μ μ„¤μ •**
```bash
# .env νμΌμ— API ν‚¤ μ…λ ¥
nano .env
```

`.env` νμΌ λ‚΄μ©:
```env
# DataON API ν‚¤
DATAON_SEARCH_KEY=your_key_here
DATAON_META_KEY=your_key_here

# ScienceON API ν‚¤
SCIENCEON_CLIENT_ID=your_client_id_here
SCIENCEON_ACCOUNTS=your_accounts_here

# λ¨λΈ μ„¤μ •
MODEL_NAME=Qwen/Qwen3-14B
EMBEDDING_MODEL=intfloat/multilingual-e5-large

# κ°λ° λ¨λ“ (GPU μ—†μ„ λ• Mock λ¨λΈ μ‚¬μ©)
DEV_MODE=false
```

### μ¶”λ΅  κ²°κ³Ό μμ‹

```json
{
  "source_dataset": {
    "id": "KISTI_DATA_12345",
    "title": "COVID-19 κ΄€λ ¨ ν•κµ­μΈ μƒν™ν¨ν„΄ λ°μ΄ν„°",
    "keywords": ["COVID-19", "μƒν™ν¨ν„΄", "ν•κµ­μΈ", "ν¬λ°λ―Ή"]
  },
  "recommendations": [
    {
      "rank": 1,
      "type": "paper",
      "id": "DIKO0012345678",
      "platform": "scienceon",
      "title": "COVID-19κ°€ ν•κµ­ κ°€κµ¬μ μ†λΉ„ν¨ν„΄μ— λ―ΈμΉ μν–¥",
      "description": "COVID-19 ν¬λ°λ―Ήμ΄ ν•κµ­ κ°€κµ¬μ μ†λΉ„ ν–‰νƒμ— λ―ΈμΉ μν–¥μ„ λ¶„μ„...",
      "score": 0.892,
      "reason": "κ³µν†µ ν‚¤μ›λ“ 'COVID-19', 'ν•κµ­μΈ'μΌλ΅ λ†’μ€ μ—°κ΄€μ„±; λ™μΌ μ—°κµ¬ λ¶„μ•Ό",
      "level": "κ°•μ¶”",
      "url": "http://click.ndsl.kr/servlet/OpenAPIDetailView?..."
    },
    {
      "rank": 2,
      "type": "dataset",
      "id": "a27774ddf0c702847a996cee9d660ba4",
      "platform": "dataon",
      "title": "ν¬λ°λ―Ή μ‹κΈ° μƒν™ λ³€ν™” μ„¤λ¬Έμ΅°μ‚¬ λ°μ΄ν„°",
      "description": "2020-2021λ…„ ν¬λ°λ―Ή κΈ°κ°„ λ™μ• μμ§‘λ μƒν™ν¨ν„΄ λ³€ν™” μ„¤λ¬Έ λ°μ΄ν„°...",
      "score": 0.784,
      "reason": "κ΄€λ ¨ μ£Όμ  λ° λ°μ΄ν„° μ ν•; μ‹κ°„μ  μ—°κ΄€μ„± λ†’μ",
      "level": "μ¶”μ²",
      "url": "https://dataon.kisti.re.kr/..."
    }
  ],
  "processing_time_ms": 4230,
  "candidates_analyzed": 30,
  "model_info": {
    "model_name": "Qwen/Qwen3-14B",
    "parameters": "14.8B",
    "dtype": "float16"
  }
}
```

**μ¶”μ² κ²°κ³Ό ν•„λ“ μ„¤λ…**:
- `rank`: μ¶”μ² μμ„ (1λ¶€ν„° μ‹μ‘)
- `type`: νƒ€μ… (`paper` λλ” `dataset`)
- `id`: κ³ μ  μ‹λ³„μ (λ…Όλ¬Έ: cn, λ°μ΄ν„°μ…‹: svc_id)
- `platform`: μ¶μ² ν”λ«νΌ (`scienceon` λλ” `dataon`)
- `title`: μ λ©
- `description`: μ”μ•½ μ„¤λ… (μµλ€ 200μ)
- `score`: μ μ‚¬λ„ μ μ (0.0~1.0)
- `reason`: LLMμ΄ μƒμ„±ν• μ¶”μ² μ΄μ 
- `level`: μ¶”μ² μμ¤€ (`κ°•μ¶”`, `μ¶”μ²`, `μ°Έκ³ `)
- `url`: μ›λ¬Έ λ§ν¬

---

## μ‹μ¤ν… μ•„ν‚¤ν…μ²

### LLM κΈ°λ° ν•μ΄λΈλ¦¬λ“ RAG νμ΄ν”„λΌμΈ

```
μ…λ ¥: dataset_id
    β”‚
    β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ 1. DataON API: μ†μ¤ λ°μ΄ν„°μ…‹ μ΅°ν    β”‚
β”‚    β†’ μ λ©, μ„¤λ…, ν‚¤μ›λ“ μ¶”μ¶         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚
    β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ 2. LLM κ²€μƒ‰ μΏΌλ¦¬ μƒμ„± (Qwen3-14B)   β”‚
β”‚    μ…λ ¥: μ†μ¤ μ λ© + μ„¤λ… + ν‚¤μ›λ“   β”‚
β”‚    μ¶λ ¥:                             β”‚
β”‚    - λ°μ΄ν„°μ…‹ κ²€μƒ‰μ© μΏΌλ¦¬ 3-5κ°      β”‚
β”‚    - λ…Όλ¬Έ κ²€μƒ‰μ© μΏΌλ¦¬ 3-5κ°          β”‚
β”‚    (λ‹¤κµ­μ–΄ μλ―Έ μ΄ν•΄ κΈ°λ°)           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚
    β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ 3. API ν›„λ³΄ μμ§‘ (λ³‘λ ¬)              β”‚
β”‚   - DataON: LLM μƒμ„± μΏΌλ¦¬λ΅ κ²€μƒ‰     β”‚
β”‚     (15κ° λ°μ΄ν„°μ…‹)                  β”‚
β”‚   - ScienceON: LLM μƒμ„± μΏΌλ¦¬λ΅ κ²€μƒ‰  β”‚
β”‚     (15κ° λ…Όλ¬Έ)                      β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚
    β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ 4. ν•μ΄λΈλ¦¬λ“ μ μ‚¬λ„ κ³„μ‚° λ° ν•„ν„°λ§  β”‚
β”‚   - Semantic (E5): 70%              β”‚
β”‚     * query: μ†μ¤ λ°μ΄ν„°μ…‹           β”‚
β”‚     * passage: ν›„λ³΄ λ¬Έμ„             β”‚
β”‚     * μ½”μ‚¬μΈ μ μ‚¬λ„ κ³„μ‚°              β”‚
β”‚   - Lexical (BM25): 30%             β”‚
β”‚     * μ–΄ν λ§¤μΉ­ μ μ                 β”‚
β”‚   - μµμΆ… μ μ = μλ―Έμ *0.7 + μ–΄ν*0.3β”‚
β”‚   β†’ μƒμ„ 15κ° ν›„λ³΄ μ„ λ³„              β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚
    β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ 5. LLM μµμΆ… λ¶„μ„ (Qwen3-14B)        β”‚
β”‚   - 15κ° ν›„λ³΄ μ •λ°€ λ¶„μ„              β”‚
β”‚   - μ μ‚¬λ„ μ μ ν•΄μ„                 β”‚
β”‚   - μ¶”μ² μμ„ κ²°μ • (rank)            β”‚
β”‚   - 3-5κ° μµμΆ… μ¶”μ² μ„ λ³„             β”‚
β”‚   - μ¶”μ² μ΄μ  μ‘μ„± (λ‹¤κµ­μ–΄)          β”‚
β”‚   - μ¶”μ² λ λ²¨ κ²°μ • (κ°•μ¶”/μ¶”μ²/μ°Έκ³ )  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚
    β–Ό
μ¶λ ¥: μ¶”μ² 3-5κ±΄ (μμ„, μ λ©, μ„¤λ…, μ μ, μ΄μ , λ λ²¨, URL)
```

### ν•µμ‹¬ κ°μ„ μ 
- π― **LLMμ΄ κ²€μƒ‰ μΏΌλ¦¬ μƒμ„±**: μλ―Έμ  μ΄ν•΄λ¥Ό ν†µν•΄ μµμ μ κ²€μƒ‰μ–΄λ¥Ό μƒμ„±
- π”„ **λ§μ¶¤ν• μΏΌλ¦¬**: λ°μ΄ν„°μ…‹ κ²€μƒ‰κ³Ό λ…Όλ¬Έ κ²€μƒ‰μ— κ°κ° μµμ ν™”λ μΏΌλ¦¬ μ‚¬μ©
- β΅ **λΉ λ¥Έ ν•„ν„°λ§**: κ²€μƒ‰ API μ‘λ‹µλ§μΌλ΅ μ μ‚¬λ„ κ³„μ‚°, μƒμ„Έ μ΅°ν λ¶ν•„μ”
- π¨ **ν•μ΄λΈλ¦¬λ“ μ¤μ½”μ–΄λ§**: E5 μ„λ² λ”©(μλ―Έ) + BM25(μ–΄ν)λ΅ μ •ν™•λ„μ™€ μ¬ν„μ¨ ν™•λ³΄

---

## μ„±λ¥ ν‰κ°€

### μ‹μ¤ν… μ„±λ¥ (κ³ μ‚¬μ–‘ κΈ°μ¤€)

| λ©”νΈλ¦­ | FP16 (28GB) |
|--------|------------|
| **μ‘λ‹µ μ‹κ°„** | 3-4μ΄ |
| **λ©”λ¨λ¦¬ μ‚¬μ©** | ~28GB |
| **μ²λ¦¬λ‰** | 20-25 req/min |
| **μ‹¤ν¨μ¨** | < 0.5% |

**μ‘λ‹µ μ‹κ°„ λ¶„ν•΄**:
- LLM μΏΌλ¦¬ μƒμ„±: 0.5-1μ΄
- ν›„λ³΄ κ²€μƒ‰ (λ³‘λ ¬): 0.5-1μ΄
- μ μ‚¬λ„ κ³„μ‚°: 0.3-0.5μ΄
- LLM μµμΆ… λ¶„μ„: 1.5-2μ΄
- **μ΄ν•©**: 3-4μ΄ (FP16 κΈ°μ¤€)

### μ¶”μ² ν’μ§ ν‰κ°€ μ§€ν‘

μ‹μ¤ν…μ€ λ‹¤μ μ§€ν‘λ΅ ν‰κ°€λ©λ‹λ‹¤:
- **nDCG@k**: Normalized Discounted Cumulative Gain (μμ„ ν’μ§, 0~1)
  - 1.0μ— κ°€κΉμΈμλ΅ μ΄μƒμ μΈ μμ„
  - μƒμ„ kκ° μ¶”μ²μ μ •κ·ν™”λ ν• μΈ λ„μ  μ΄λ“
- **MRR@k**: Mean Reciprocal Rank (μ²« κ΄€λ ¨ μ•„μ΄ν… μμ„, 0~1)
  - μ²« λ²μ§Έ κ΄€λ ¨ μ•„μ΄ν…μ μ—­μμ„ (1/rank)
  - 1.0: μ²« λ²μ§Έ μ¶”μ²μ΄ κ΄€λ ¨ μμ
- **Recall@k**: μ¬ν„μ¨ (0~1)
  - μ „μ²΄ κ΄€λ ¨ μ•„μ΄ν… μ¤‘ μƒμ„ kκ° μ¶”μ²μ— ν¬ν•¨λ λΉ„μ¨
- **Precision@k**: μ •λ°€λ„ (0~1)
  - μƒμ„ kκ° μ¶”μ² μ¤‘ μ‹¤μ  κ΄€λ ¨ μλ” μ•„μ΄ν…μ λΉ„μ¨

**ν‰κ°€ λ¨λ“**: `src/evaluation/metrics.py`μ— κµ¬ν„λ¨

**ν‰κ°€ μ‹¤ν–‰ λ°©λ²•**:
```bash
# ν‰κ°€ λ¨λ“ λ‹¨μ„ ν…μ¤νΈ
python scripts/test_evaluation.py

# μ „μ²΄ ν‰κ°€ (Jupyter Notebook)
jupyter notebook notebooks/inference.ipynb
# β†’ Section 10-15 μ‹¤ν–‰
```

---

## μ €μ‘κ¶ λ° λΌμ΄μ„ μ¤

### μ¤ν”μ†μ¤ λΌμ΄λΈλ¬λ¦¬

λ³Έ ν”„λ΅μ νΈλ” λ‹¤μ μ¤ν”μ†μ¤ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤:

- **Qwen3-14B**: Apache 2.0 License (Alibaba Cloud)
- **PyTorch**: BSD License
- **Transformers**: Apache 2.0 License (Hugging Face)
- **FastAPI**: MIT License
- **E5 Embeddings**: MIT License (Microsoft)

**λ¨λ“  λΌμ΄λΈλ¬λ¦¬λ” μƒμ—…μ  μ‚¬μ©μ΄ κ°€λ¥ν• λΌμ΄μ„ μ¤μ…λ‹λ‹¤.**

### API μ‚¬μ©

- **DataON API**: KISTI κ²½μ§„λ€ν μ κ³µ API μ‚¬μ©
- **ScienceON API**: KISTI κ²½μ§„λ€ν μ κ³µ API μ‚¬μ©
- **μ €μ‘κ¶ λ¬Έμ  μ—†μ**: κ²½μ§„λ€ν μ κ³µ λ°μ΄ν„° λ° APIλ§ μ‚¬μ©

## μ°Έκ³  μλ£

- **Qwen3-14B**: https://huggingface.co/Qwen/Qwen3-14B
- **Multilingual E5**: https://huggingface.co/intfloat/multilingual-e5-large
- **DataON API**: https://dataon.gitbook.io/
- **ScienceON API**: https://scienceon.kisti.re.kr/apigateway/
- **λ€ν νμ΄μ§€**: https://aida.kisti.re.kr/competition/

